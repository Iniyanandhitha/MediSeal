# MediSeal IPFS Service Environment Configuration

# ==============================================
# IPFS SERVICE ENVIRONMENT VARIABLES  
# ==============================================

# Server Configuration
PORT=3001
NODE_ENV=development
HOST=localhost

# IPFS Node Configuration
IPFS_NODE_TYPE=helia
IPFS_REPO_PATH=./.ipfs
IPFS_API_PORT=5001
IPFS_GATEWAY_PORT=8080

# IPFS Network Configuration
IPFS_BOOTSTRAP_NODES=
IPFS_SWARM_PORT=4001
IPFS_ANNOUNCE_ADDRESSES=

# Pinning Configuration
IPFS_PIN_REMOTE_SERVICE=pinata
PINATA_API_KEY=your-pinata-api-key
PINATA_SECRET_API_KEY=your-pinata-secret-api-key
PINATA_JWT=your-pinata-jwt-token

# Alternative Pinning Services
WEB3_STORAGE_TOKEN=your-web3-storage-token
NFTSTORAGE_API_KEY=your-nft-storage-api-key

# File Upload Configuration
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain,application/json
UPLOAD_TEMP_DIR=./tmp
CLEANUP_TEMP_FILES=true
TEMP_FILE_RETENTION_HOURS=1

# Content Management
AUTO_PIN_UPLOADS=true
PIN_EXPIRY_DAYS=365
GARBAGE_COLLECTION_INTERVAL=86400000
MAX_STORAGE_SIZE=1073741824

# Performance Configuration
IPFS_CONCURRENT_UPLOADS=5
IPFS_TIMEOUT=30000
IPFS_RETRY_ATTEMPTS=3
IPFS_CHUNK_SIZE=262144

# Gateway Configuration
PUBLIC_GATEWAY_URL=https://gateway.pinata.cloud/ipfs
PRIVATE_GATEWAY_URL=http://localhost:8080/ipfs
GATEWAY_TIMEOUT=10000

# Database Configuration (for metadata storage)
METADATA_STORAGE_TYPE=file
METADATA_FILE_PATH=./data/metadata.json
SQLITE_DB_PATH=./data/ipfs-metadata.db

# Redis Configuration (for caching)
REDIS_URL=redis://localhost:6379
REDIS_CACHE_TTL=3600
REDIS_CACHE_PREFIX=mediseal:ipfs

# Security Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:3002
API_KEY_REQUIRED=false
API_KEY=your-ipfs-service-api-key
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Logging Configuration
LOG_LEVEL=info
LOG_FILE_PATH=./logs/ipfs.log
LOG_MAX_FILE_SIZE=5242880
LOG_MAX_FILES=5
LOG_INCLUDE_IPFS_LOGS=false

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000
PEER_CHECK_ENABLED=true
PIN_STATUS_CHECK_ENABLED=true

# Integration with Backend
BACKEND_SERVICE_URL=http://localhost:3002
BACKEND_API_KEY=your-backend-api-key
NOTIFY_BACKEND_ON_UPLOAD=true
VERIFY_BACKEND_REQUESTS=false

# Content Verification
CONTENT_VERIFICATION_ENABLED=true
HASH_VERIFICATION_ALGORITHM=sha256
CONTENT_INTEGRITY_CHECKS=true

# Monitoring and Analytics
METRICS_ENABLED=true
METRICS_COLLECTION_INTERVAL=60000
STORAGE_USAGE_MONITORING=true
BANDWIDTH_MONITORING=true

# Development Settings
DEBUG_MODE=false
MOCK_IPFS_NODE=false
ENABLE_IPFS_WEBUI=true
WEBUI_PORT=5001